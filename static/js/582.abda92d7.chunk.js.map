{"version":3,"file":"static/js/582.abda92d7.chunk.js","mappings":"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","sources":["webpack://react-the-way-of-the-samurai/./src/components/Profile/Profile.module.css?b512","webpack://react-the-way-of-the-samurai/./src/components/Profile/MyPosts/MyPosts.module.css?831b","webpack://react-the-way-of-the-samurai/./src/components/Profile/MyPosts/Post/Post.module.css?87e6","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","webpack://react-the-way-of-the-samurai/./src/components/Profile/ProfileInfo/ProfileInfo.module.css?ead2","components/Profile/ProfileInfo/ProfileStatus/ProfileStatus.jsx","components/Profile/ProfileInfo/ProfileStatus/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","hoc/withRouter.js","components/Profile/ProfileContainer.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"profileContent\":\"Profile_profileContent__1GgD8\"};","// extracted by mini-css-extract-plugin\nexport default {\"postsBlock\":\"MyPosts_postsBlock__lB-pf\",\"posts\":\"MyPosts_posts__GSiZ2\"};","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"Post_item__Yu4oG\"};","import React from 'react';\n\nimport postStyleClasses from './Post.module.css';\n\nconst Post = (props) => {\n  return (\n    <div className={postStyleClasses.item}>\n        <img src={props.userAvatarUrl} alt={props.userAvatarAlt}/>\n        {props.message}\n        <div>\n            <span>{`Like count: ${props.likeCount}`}</span>\n            <span>Like</span>\n        </div>\n    </div>\n  );\n};\n\nexport default Post;","import React from \"react\";\nimport { Field, reduxForm } from \"redux-form\";\nimport { maxLengthCreator, requiredField } from \"../../../utils/validators/validators\";\nimport { TextArea } from \"../../common/FormControls/FormControls\";\n\nimport myPostsStyleClasses from \"./MyPosts.module.css\";\n\nimport Post from \"./Post/Post\";\n\nconst AddPostForm = (props) => {\n  return (\n    <form onSubmit={props.handleSubmit}>\n      <div>\n        <Field component={TextArea} name=\"post\" placeholder=\"Enter a new post\" validate={[requiredField, maxLengthCreator(10)]}/>\n      </div>\n      <div>\n        <button>Add post</button>\n      </div>\n    </form>\n  );\n};\n\nconst AddPostReduxForm = reduxForm({\n  form: \"addPostForm\",\n})(AddPostForm);\n\nconst MyPosts = (props) => {\n  const addPost = (values) => {\n    props.addPost(values.post);\n  };\n\n  return (\n    <div className={myPostsStyleClasses.postsBlock}>\n      <h3>My Posts</h3>\n      <AddPostReduxForm onSubmit={addPost} />\n      <div className={myPostsStyleClasses.posts}>\n        {props.posts.map((post, index) => (\n          <Post\n            key={index}\n            userAvatarUrl={post.userAvatarUrl}\n            userAvatarAlt={post.userAvatarAlt}\n            message={post.message}\n            likeCount={post.likeCount}\n          />\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default MyPosts;\n","// extracted by mini-css-extract-plugin\nexport default {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__XBXuJ\"};","import React from \"react\";\n\nimport profileStatusStyleClasses from \"./ProfileStatus.module.css\";\n\nclass ProfileStatus extends React.Component {\n  state = {\n    editMode: false,\n    status: this.props.status,\n  };\n\n  activateEditMode = () => {\n    this.setState({\n      ...this.state,\n      editMode: true,\n    });\n  };\n\n  deactivateEditMode = () => {\n    this.setState({\n      ...this.state,\n      editMode: false,\n    });\n\n    this.props.updateUserStatus(this.state.status);\n  };\n\n  onStatusChange = (event) => {\n    this.setState({\n      ...this.state,\n      status: event.target.value,\n    });\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.status !== this.props.status) {\n      this.setState({\n        ...this.state,\n        status: this.props.status,\n      });\n    }\n  }\n\n  render() {\n    return (\n      <>\n        {!this.state.editMode ? (\n          <div>\n            <span onDoubleClick={this.activateEditMode}>\n              {this.props.status || \"Set a new status\"}\n            </span>\n          </div>\n        ) : (\n          <div>\n            <input\n              autoFocus\n              onBlur={this.deactivateEditMode}\n              value={this.state.status}\n              onChange={this.onStatusChange}\n            />\n          </div>\n        )}\n      </>\n    );\n  }\n}\n\nexport default ProfileStatus;\n","import React from \"react\";\nimport { useState, useEffect } from \"react\";\n\nimport profileStatusStyleClasses from \"./ProfileStatus.module.css\";\n\nconst ProfileStatusWithHooks = (props) => {\n  const [editMode, setEditMode] = useState(false);\n  const [status, setStatus] = useState(props.status);\n\n  useEffect(() => {\n    setStatus(props.status);\n  }, [props.status]);\n\n  const activateEditMode = () => {\n    setEditMode(true);\n  };\n\n  const deactivateEditMode = () => {\n    setEditMode(false);\n\n    props.updateUserStatus(status);\n  };\n\n  const onStatusChange = (event) => {\n    setStatus(event.target.value);\n  };\n\n  return (\n    <>\n      {!editMode ? (\n        <div>\n          <span onDoubleClick={activateEditMode}>\n            {props.status || \"Set a new status\"}\n          </span>\n        </div>\n      ) : (\n        <div>\n          <input\n            autoFocus\n            onChange={onStatusChange}\n            onBlur={deactivateEditMode}\n            value={status}\n          />\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default ProfileStatusWithHooks;\n","import React from \"react\";\nimport Preloader from \"../../common/Preloader/Preloader\";\n\nimport profileInfoStyleClasses from \"./ProfileInfo.module.css\";\n\nimport ProfileStatus from \"./ProfileStatus/ProfileStatus\";\nimport ProfileStatusWithHooks from \"./ProfileStatus/ProfileStatusWithHooks\";\n\nconst ProfileInfo = ({ profileInfo, status, getUserStatus, updateUserStatus }) => {\n  if (!profileInfo) {\n    return <Preloader />;\n  }\n\n  return (\n    <>\n      <img\n        src=\"https://www.hdwallpapers.in/download/sunset_sky_reflections_4k_8k-HD.jpg\"\n        alt=\"some image\"\n        width={600}\n        height={400}\n      />\n      <div className={profileInfoStyleClasses.descriptionBlock}>\n        <img src={profileInfo.photos.large} />\n        <br />\n        {profileInfo.fullName}\n        <br />\n        {profileInfo.aboutMe}\n        <br />\n        <ProfileStatusWithHooks\n          status={status}\n          getUserStatus={getUserStatus}\n          updateUserStatus={updateUserStatus}\n        />\n      </div>\n    </>\n  );\n};\n\nexport default ProfileInfo;\n","import React from \"react\";\n\nimport { connect } from \"react-redux\";\n\nimport {\n  addPostActionCreator,\n  updateNewPostTextActionCreator,\n} from \"../../../redux/profileReducer.js\";\n\nimport MyPosts from \"./MyPosts\";\n\nconst mapStateToProps = (state) => {\n  return {\n    posts: state.profileState.postState,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    addPost: (postText) => {\n      dispatch(addPostActionCreator(postText));\n    },\n  };\n};\n\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\n\nexport default MyPostsContainer;\n","import React from \"react\";\n\nimport profileStyleClasses from \"./Profile.module.css\";\n\nimport MyPosts from \"./MyPosts/MyPosts\";\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\n\nconst Profile = (props) => {\n  return (\n    <div className={profileStyleClasses.profileContent}>\n      <ProfileInfo\n        profileInfo={props.profileInfo}\n        status={props.status}\n        getUserStatus={props.getUserStatus}\n        updateUserStatus={props.updateUserStatus}\n      />\n      <MyPostsContainer />\n    </div>\n  );\n};\n\nexport default Profile;\n","import { useLocation, useNavigate, useParams } from \"react-router-dom\";\n\nfunction withRouter(Component) {\n  function ComponentWithRouterProp(props) {\n    let location = useLocation();\n    let navigate = useNavigate();\n    let params = useParams();\n\n    return <Component {...props} router={{ location, navigate, params }} />;\n  }\n\n  return ComponentWithRouterProp;\n}\n\nexport default withRouter;","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport Profile from \"./Profile\";\nimport {\n  getProfileThunkCreator,\n  getUserStatusThunkCreator,\n  updateUserStatusThunkCreator,\n} from \"../../redux/profileReducer\";\nimport withAuthRedirect from \"../../hoc/AuthRedirect\";\nimport { compose } from \"redux\";\nimport withRouter from \"../../hoc/withRouter\";\n\nclass ProfileAPI extends React.Component {\n  componentDidMount() {\n    let userId = this.props.router.params.userId;\n\n    if (!userId) {\n      userId = this.props.authorizedUserId;\n\n      if (!userId) {\n        this.props.history.push(\"/login\");\n      }\n    }\n\n    this.props.getProfile(userId);\n    this.props.getUserStatus(userId);\n  }\n\n  render() {\n    /* console.log(\"Render the profile page\"); */\n\n    return (\n      <Profile\n        {...this.props}\n        status={this.props.status}\n        getUserStatus={this.props.getUserStatus}\n        updateUserStatus={this.props.updateUserStatus}\n      />\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  /* console.log(\"mapStateToProps call for the profile page\"); */\n\n  return {\n    profileInfo: state.profileState.profileInfoState,\n    status: state.profileState.status,\n    authorizedUserId: state.authState.userId,\n    isAuth: state.authState.isAuth,\n  };\n};\n\nconst ProfileContainer = compose(\n  connect(mapStateToProps, {\n    getProfile: getProfileThunkCreator,\n    getUserStatus: getUserStatusThunkCreator,\n    updateUserStatus: updateUserStatusThunkCreator,\n  }),\n  withRouter,\n  withAuthRedirect\n)(ProfileAPI);\n\nexport default ProfileContainer;\n"],"names":["props","className","postStyleClasses","src","userAvatarUrl","alt","userAvatarAlt","message","likeCount","AddPostReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","component","TextArea","name","placeholder","validate","requiredField","maxLengthCreator","myPostsStyleClasses","values","addPost","post","posts","map","index","React","useState","editMode","setEditMode","status","setStatus","useEffect","autoFocus","onChange","event","target","value","onBlur","updateUserStatus","onDoubleClick","profileInfo","getUserStatus","width","height","profileInfoStyleClasses","photos","large","fullName","aboutMe","Preloader","connect","state","profileState","postState","dispatch","postText","addPostActionCreator","MyPosts","profileStyleClasses","Component","location","useLocation","navigate","useNavigate","params","useParams","router","ProfileAPI","userId","this","authorizedUserId","history","push","getProfile","compose","profileInfoState","authState","isAuth","getProfileThunkCreator","getUserStatusThunkCreator","updateUserStatusThunkCreator","withRouter","withAuthRedirect"],"sourceRoot":""}